{"ast":null,"code":"const cart = [];\nconst handleCart = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : cart;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const product = action.payload;\n  switch (action.type) {\n    case ADDITEM:\n      //check if already exist\n      const exist = state.find(x => x.id === product.id);\n      if (exist) {\n        // increase the quantity\n        return state.map(x => x.id === product.id ? {\n          ...x,\n          qty: x.qty + 1\n        } : x);\n      } else {\n        const product = action.payload;\n        return [...state, {\n          ...product,\n          qty: 1\n        }];\n      }\n      break;\n    case \"DELITEM\":\n      const exist1 = state.find(x => x.id === product.id);\n      if (exist1.qty === 1) {\n        return state.filter(x => x.id !== exist1.id);\n      } else {\n        return state.map(x => x.id === product.id ? {\n          ...x,\n          qty: x.qty - 1\n        } : x);\n      }\n      break;\n    default:\n      break;\n  }\n};\nexport default handleCart;","map":{"version":3,"names":["cart","handleCart","state","arguments","length","undefined","action","product","payload","type","ADDITEM","exist","find","x","id","map","qty","exist1","filter"],"sources":["C:/Users/zoher/Desktop/code/React-coruse2/e-commerce4/src/redux/reducer/handleCart.js"],"sourcesContent":["const cart = [];\r\n\r\nconst handleCart = (state = cart, action)=>{\r\n    const product = action.payload;\r\n    switch (action.type) {\r\n        case ADDITEM:\r\n            //check if already exist\r\n            const exist = state.find((x)=>x.id ===product.id);\r\n            if(exist){\r\n                // increase the quantity\r\n                return state.map((x)=>\r\n                x.id === product.id ? {...x,qty : x.qty + 1} : x\r\n                );\r\n            }else{\r\n                const product =action.payload;\r\n                return[\r\n                    ...state,\r\n                    {\r\n                        ...product,\r\n                        qty : 1,\r\n\r\n                    }\r\n                ]\r\n            }\r\n            break;\r\n\r\n            case \"DELITEM\":\r\n                const exist1 = state.find((x)=> x.id===product.id);\r\n                if(exist1.qty === 1){\r\n                return state.filter((x)=> x.id !== exist1.id);\r\n                }else{\r\n                return state.map((x)=>\r\n                x.id===product.id ? {...x, qty: x.qty-1} : x\r\n                );\r\n                }\r\n            break;\r\n    \r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport default handleCart;"],"mappings":"AAAA,MAAMA,IAAI,GAAG,EAAE;AAEf,MAAMC,UAAU,GAAG,SAAAA,CAAA,EAAwB;EAAA,IAAvBC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGH,IAAI;EAAA,IAAEM,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACpC,MAAME,OAAO,GAAGD,MAAM,CAACE,OAAO;EAC9B,QAAQF,MAAM,CAACG,IAAI;IACf,KAAKC,OAAO;MACR;MACA,MAAMC,KAAK,GAAGT,KAAK,CAACU,IAAI,CAAEC,CAAC,IAAGA,CAAC,CAACC,EAAE,KAAIP,OAAO,CAACO,EAAE,CAAC;MACjD,IAAGH,KAAK,EAAC;QACL;QACA,OAAOT,KAAK,CAACa,GAAG,CAAEF,CAAC,IACnBA,CAAC,CAACC,EAAE,KAAKP,OAAO,CAACO,EAAE,GAAG;UAAC,GAAGD,CAAC;UAACG,GAAG,EAAGH,CAAC,CAACG,GAAG,GAAG;QAAC,CAAC,GAAGH,CAAC,CAC/C;MACL,CAAC,MAAI;QACD,MAAMN,OAAO,GAAED,MAAM,CAACE,OAAO;QAC7B,OAAM,CACF,GAAGN,KAAK,EACR;UACI,GAAGK,OAAO;UACVS,GAAG,EAAG;QAEV,CAAC,CACJ;MACL;MACA;IAEA,KAAK,SAAS;MACV,MAAMC,MAAM,GAAGf,KAAK,CAACU,IAAI,CAAEC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAGP,OAAO,CAACO,EAAE,CAAC;MAClD,IAAGG,MAAM,CAACD,GAAG,KAAK,CAAC,EAAC;QACpB,OAAOd,KAAK,CAACgB,MAAM,CAAEL,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKG,MAAM,CAACH,EAAE,CAAC;MAC7C,CAAC,MAAI;QACL,OAAOZ,KAAK,CAACa,GAAG,CAAEF,CAAC,IACnBA,CAAC,CAACC,EAAE,KAAGP,OAAO,CAACO,EAAE,GAAG;UAAC,GAAGD,CAAC;UAAEG,GAAG,EAAEH,CAAC,CAACG,GAAG,GAAC;QAAC,CAAC,GAAGH,CAAC,CAC3C;MACD;MACJ;IAEJ;MACI;EAAM;AAElB,CAAC;AAED,eAAeZ,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}